!function(c){"use strict";var X="ht",Z=c[X],K=Math,v=K.max,i=K.min,W=K.abs,E=K.atan2,n=(K.cos,K.sin,K.ceil),A=Z.Default,L=A.getInternal(),B=Z.List,Y=L.Mat,o=L.getNodeRect,S=L.intersectionLineRect,_=A.getDistance,u=A.setEdgeType,q="left",x="right",l="top",T="bottom",Q="edge.type",N="edge.gap",D="edge.center",d="edge.extend",C=function(O,R){return o(O,R).width},e=function(p,y){return o(p,y).height},P=function(I,d){return L.getEdgeAgentPosition(I,d._40I,d.s("edge.source.position"),d.s("edge.source.offset.x"),d.s("edge.source.offset.y"),d.s("edge.source.anchor.x"),d.s("edge.source.anchor.y"))},a=function(V,l){return L.getEdgeAgentPosition(V,l._41I,l.s("edge.target.position"),l.s("edge.target.offset.x"),l.s("edge.target.offset.y"),l.s("edge.target.anchor.x"),l.s("edge.target.anchor.y"))},R=function(b,p){var y=b.s(Q),g=b.getEdgeGroup();if(g){var V=0;if(g.eachSiblingEdge(function(t){p.isVisible(t)&&t.s(Q)==y&&V++}),V>1)return b.s(N)*(V-1)/2}return 0},F=function(K,l){var L=K.s(Q),X=K.isLooped();if(!K.getEdgeGroup())return X?K.s(N):0;var x,F=0,d=0,$=0;return K.getEdgeGroup().getSiblings().each(function(y){y.each(function(m){if(m._40I===K._40I&&m.s(Q)==L&&l.isVisible(m)){var P=m.s(N);x?(d+=$/2+P/2,$=P):(x=m,$=P),m===K&&(F=d)}})}),X?d-F+$:F-d/2},y=function(i,E){var x=E.s("edge.corner.radius");return A.toRoundedCorner(i,x)};L.addMethod(Z.Style,{"edge.ripple.elevation":-20,"edge.ripple.size":1,"edge.ripple.both":!1,"edge.ripple.straight":!1,"edge.ripple.length":-1,"edge.corner.radius":-1,"edge.ortho":.5,"edge.flex":20,"edge.extend":20},!0),u("boundary",function(w,F,v,M){M||(F=-F);var p,U=P(v,w),i=a(v,w),K=o(v,w._40I),L=o(v,w._41I),A=new Y(E(i.y-U.y,i.x-U.x)),y=_(U,i),Z=U.x,b=U.y;return p=A.tf(0,F),U={x:p.x+Z,y:p.y+b},p=A.tf(y,F),i={x:p.x+Z,y:p.y+b},p=S(U,i,K),p&&(U={x:p[0],y:p[1]}),p=S(U,i,L),p&&(i={x:p[0],y:p[1]}),{points:new B([U,i])}}),u("ripple",function(u,m,L,W){W||(m=-m);var f=P(L,u),o=a(L,u),r=_(f,o),X=i(u.s("edge.offset"),r/2),c=u.s("edge.ripple.size"),Z=u.s("edge.ripple.length"),A=u.s("edge.ripple.both"),S=u.s(D),b=u.s("edge.ripple.elevation"),H=new B,q=u.s("edge.ripple.straight")?null:new B,C=new Y(E(o.y-f.y,o.x-f.x));W||(b=-b),r-=2*X,Z>0&&(c=n(r/Z));var p=r/c;q&&q.add(1);for(var t=0;c>t;t++)q&&q.add(3),0===t?H.add({x:X+p*t,y:S?0:m}):H.add({x:X+p*t,y:m}),H.add({x:X+p*t+p/2,y:b+m}),A&&(b=-b);for(H.add({x:X+r,y:S?0:m}),t=0;t<H.size();t++){var z=C.tf(H.get(t));z.x+=f.x,z.y+=f.y,H.set(t,z)}return{points:H,segments:q}}),u("h.v",function(M,g,b){g=F(M,b);var G=new B,V=M.s(D),k=P(b,M),T=k.x,L=k.y,A=a(b,M),N=A.x,i=A.y,d=0,f=0,S=N-T,$=i-L;return V||(d=C(b,M._40I)/2,f=e(b,M._41I)/2),S>=0&&0>=$?(G.add({x:T+d,y:L+g}),G.add({x:N+g,y:L+g}),G.add({x:N+g,y:i+f})):0>=S&&$>=0?(G.add({x:T-d,y:L+g}),G.add({x:N+g,y:L+g}),G.add({x:N+g,y:i-f})):S>=0&&$>=0?(G.add({x:T+d,y:L+g}),G.add({x:N-g,y:L+g}),G.add({x:N-g,y:i-f})):(G.add({x:T-d,y:L+g}),G.add({x:N-g,y:L+g}),G.add({x:N-g,y:i+f})),y(G,M)}),u("v.h",function(U,S,I){S=F(U,I);var T=new B,o=U.s(D),n=P(I,U),h=n.x,b=n.y,g=a(I,U),z=g.x,M=g.y,s=0,O=0,$=z-h,R=M-b;return o||(s=C(I,U._41I)/2,O=e(I,U._40I)/2),$>=0&&0>=R?(T.add({x:h+S,y:b-O}),T.add({x:h+S,y:M+S}),T.add({x:z-s,y:M+S})):0>=$&&R>=0?(T.add({x:h+S,y:b+O}),T.add({x:h+S,y:M+S}),T.add({x:z+s,y:M+S})):$>=0&&R>=0?(T.add({x:h-S,y:b+O}),T.add({x:h-S,y:M+S}),T.add({x:z-s,y:M+S})):(T.add({x:h-S,y:b-O}),T.add({x:h-S,y:M+S}),T.add({x:z+s,y:M+S})),y(T,U)}),u("ortho",function(p,z,n){var t=new B,V=p.s(D),m=p.s("edge.ortho"),o=p._40I,x=p._41I,j=P(n,p),T=j.x,$=j.y,i=a(n,p),b=i.x,h=i.y,v=b-T,k=h-$,R=V?0:C(n,o)/2,g=V?0:e(n,o)/2,N=V?0:C(n,x)/2,c=V?0:e(n,x)/2,L=(v-(R+N)*(v>0?1:-1))*m,u=(k-(g+c)*(k>0?1:-1))*m;return W(v)<W(k)?v>=0&&0>=k?(t.add({x:T+z,y:$-g}),t.add({x:T+z,y:$+u+z-g}),t.add({x:b+z,y:$+u+z-g}),t.add({x:b+z,y:h+c})):0>=v&&k>=0?(t.add({x:T+z,y:$+g}),t.add({x:T+z,y:$+u+z+g}),t.add({x:b+z,y:$+u+z+g}),t.add({x:b+z,y:h-c})):v>=0&&k>=0?(t.add({x:T+z,y:$+g}),t.add({x:T+z,y:$+u-z+g}),t.add({x:b+z,y:$+u-z+g}),t.add({x:b+z,y:h-c})):(t.add({x:T+z,y:$-g}),t.add({x:T+z,y:$+u-z-g}),t.add({x:b+z,y:$+u-z-g}),t.add({x:b+z,y:h+c})):v>=0&&0>=k?(t.add({x:T+R,y:$+z}),t.add({x:T+L+z+R,y:$+z}),t.add({x:T+L+z+R,y:h+z}),t.add({x:b-N,y:h+z})):0>=v&&k>=0?(t.add({x:T-R,y:$+z}),t.add({x:T+L+z-R,y:$+z}),t.add({x:T+L+z-R,y:h+z}),t.add({x:b+N,y:h+z})):v>=0&&k>=0?(t.add({x:T+R,y:$+z}),t.add({x:T+L-z+R,y:$+z}),t.add({x:T+L-z+R,y:h+z}),t.add({x:b-N,y:h+z})):(t.add({x:T-R,y:$+z}),t.add({x:T+L-z-R,y:$+z}),t.add({x:T+L-z-R,y:h+z}),t.add({x:b+N,y:h+z})),y(t,p)}),u("flex",function(Q,j,E){var v=new B,Y=Q.s("edge.flex")+R(Q,E),H=Q.s(D),l=Q._40I,c=Q._41I,s=P(E,Q),x=s.x,T=s.y,I=a(E,Q),M=I.x,N=I.y,o=M-x,d=N-T,U=H?0:C(E,l)/2,K=H?0:e(E,l)/2,u=H?0:C(E,c)/2,b=H?0:e(E,c)/2,m=o>0?Y:-Y,S=d>0?Y:-Y;return W(o)<W(d)?o>=0&&0>=d?(v.add({x:x+j,y:T-K}),v.add({x:x+j,y:T+S+j-K}),v.add({x:M+j,y:N-S+j+b}),v.add({x:M+j,y:N+b})):0>=o&&d>=0?(v.add({x:x+j,y:T+K}),v.add({x:x+j,y:T+S+j+K}),v.add({x:M+j,y:N-S+j-b}),v.add({x:M+j,y:N-b})):o>=0&&d>=0?(v.add({x:x+j,y:T+K}),v.add({x:x+j,y:T+S-j+K}),v.add({x:M+j,y:N-S-j-b}),v.add({x:M+j,y:N-b})):(v.add({x:x+j,y:T-K}),v.add({x:x+j,y:T+S-j-K}),v.add({x:M+j,y:N-S-j+b}),v.add({x:M+j,y:N+b})):o>=0&&0>=d?(v.add({x:x+U,y:T+j}),v.add({x:x+m+j+U,y:T+j}),v.add({x:M-m+j-u,y:N+j}),v.add({x:M-u,y:N+j})):0>=o&&d>=0?(v.add({x:x-U,y:T+j}),v.add({x:x+m+j-U,y:T+j}),v.add({x:M-m+j+u,y:N+j}),v.add({x:M+u,y:N+j})):o>=0&&d>=0?(v.add({x:x+U,y:T+j}),v.add({x:x+m-j+U,y:T+j}),v.add({x:M-m-j-u,y:N+j}),v.add({x:M-u,y:N+j})):(v.add({x:x-U,y:T+j}),v.add({x:x+m-j-U,y:T+j}),v.add({x:M-m-j+u,y:N+j}),v.add({x:M+u,y:N+j})),y(v,Q)}),u("extend.east",function(n,s,f){var i=new B,G=n.s(d)+R(n,f),T=n.s(D),E=P(f,n),Y=E.x+(T?0:C(f,n._40I)/2),g=E.y,x=a(f,n),F=x.x+(T?0:C(f,n._41I)/2),$=x.y,M=v(Y,F)+G;return g>$?(i.add({x:Y,y:g+s}),i.add({x:M+s,y:g+s}),i.add({x:M+s,y:$-s}),i.add({x:F,y:$-s})):(i.add({x:Y,y:g-s}),i.add({x:M+s,y:g-s}),i.add({x:M+s,y:$+s}),i.add({x:F,y:$+s})),y(i,n)}),u("extend.west",function(I,w,W){var k=new B,X=I.s(d)+R(I,W),Y=I.s(D),f=P(W,I),E=f.x-(Y?0:C(W,I._40I)/2),K=f.y,q=a(W,I),l=q.x-(Y?0:C(W,I._41I)/2),m=q.y,A=i(E,l)-X;return K>m?(k.add({x:E,y:K+w}),k.add({x:A-w,y:K+w}),k.add({x:A-w,y:m-w}),k.add({x:l,y:m-w})):(k.add({x:E,y:K-w}),k.add({x:A-w,y:K-w}),k.add({x:A-w,y:m+w}),k.add({x:l,y:m+w})),y(k,I)}),u("extend.north",function(M,S,x){var A=new B,V=M.s(d)+R(M,x),f=M.s(D),U=P(x,M),b=U.x,E=U.y-(f?0:e(x,M._40I)/2),N=a(x,M),C=N.x,k=N.y-(f?0:e(x,M._41I)/2),h=i(E,k)-V;return b>C?(A.add({y:E,x:b+S}),A.add({y:h-S,x:b+S}),A.add({y:h-S,x:C-S}),A.add({y:k,x:C-S})):(A.add({y:E,x:b-S}),A.add({y:h-S,x:b-S}),A.add({y:h-S,x:C+S}),A.add({y:k,x:C+S})),y(A,M)}),u("extend.south",function(W,o,i){var $=new B,Z=W.s(d)+R(W,i),T=W.s(D),K=P(i,W),q=K.x,C=K.y+(T?0:e(i,W._40I)/2),b=a(i,W),n=b.x,F=b.y+(T?0:e(i,W._41I)/2),s=v(C,F)+Z;return q>n?($.add({y:C,x:q+o}),$.add({y:s+o,x:q+o}),$.add({y:s+o,x:n-o}),$.add({y:F,x:n-o})):($.add({y:C,x:q-o}),$.add({y:s+o,x:q-o}),$.add({y:s+o,x:n+o}),$.add({y:F,x:n+o})),y($,W)});var r=function(X,p,c,H,Y){if(H.sort(function(W,S){var l=W.getSourceAgent()===p?W.getTargetAgent():W.getSourceAgent(),D=S.getSourceAgent()===p?S.getTargetAgent():S.getSourceAgent(),w=l.p(),g=D.p();if(c===q||c===x){if(w.y>g.y)return 1;if(w.y<g.y)return-1}else{if(w.x>g.x)return 1;if(w.x<g.x)return-1}return A.sortFunc(W.getId(),S.getId())}),Y){for(var z,F,E,f=X.getSourceAgent(),n=X.getTargetAgent(),V=0;V<H.size();V++){var O=H.get(V);O.getSourceAgent()===f&&O.getTargetAgent()===n||O.getTargetAgent()===f&&O.getSourceAgent()===n?(F||(F=new B),F.add(O,0)):F?(E||(E=new B),E.add(O)):(z||(z=new B),z.add(O))}H.clear(),z&&H.addAll(z),F&&H.addAll(F),E&&H.addAll(E)}var J=H.indexOf(X),j=H.size(),k=X.s(N);return{side:c,index:J,size:j,offset:-k*(j-1)/2+k*J}},O=function(g,D,H,y,d){var c=D.s(Q);return r(D,H,y,H.getAgentEdges().toList(function(K){return g.isVisible(K)&&K.s(Q)===c}),d)},z=function(h,N){var F=h.getSourceAgent()===N?h.getTargetAgent():h.getSourceAgent(),r=N.p(),V=F.p(),E=V.x-r.x,D=V.y-r.y;return E>0&&W(D)<=E?x:0>E&&W(D)<=-E?q:D>0&&W(E)<=D?T:l},M=function(_,w,E){var b=w.s(Q),P=z(w,E);return r(w,E,P,E.getAgentEdges().toList(function(r){return _.isVisible(r)&&r.s(Q)===b&&z(r,E)===P}))},f=function(W,g){var r=W.getSourceAgent()===g,_=r?W.getTargetAgent():W.getSourceAgent(),Y=g.p(),K=_.p();return r?Y.y>K.y?l:T:Y.x<K.x?x:q},V=function(V,U,t){var G=U.s(Q),_=f(U,t);return r(U,t,_,t.getAgentEdges().toList(function($){return V.isVisible($)&&$.s(Q)===G&&f($,t)===_}),_===x||_===T)},H=function(d,G){var o=d.getSourceAgent()===G,I=o?d.getTargetAgent():d.getSourceAgent(),S=G.p(),f=I.p();return o?S.x<f.x?x:q:S.y>f.y?l:T},I=function(N,z,s){var m=z.s(Q),W=H(z,s);return r(z,s,W,s.getAgentEdges().toList(function(T){return N.isVisible(T)&&T.s(Q)===m&&H(T,s)===W}),W===x||W===T)},U=function(p,k,N){var $=p.getSourceAgent(),s=p.getTargetAgent(),Q=$.getId()>s.getId(),b=Q?s:$,L=Q?$:s,n=b.p(),U=L.p(),H=N(k,p,b),r=N(k,p,L),f=p.s(D),d=f?0:C(k,b)/2,o=f?0:C(k,L)/2,O=f?0:e(k,b)/2,G=f?0:e(k,L)/2,z=H.offset,g=r.offset,F=H.side,W=r.side,M=new B;return F===l?(M.add({x:n.x+z,y:n.y-O}),M.add({x:n.x+z,y:U.y+g}),W===q?M.add({x:U.x-o,y:U.y+g}):M.add({x:U.x+o,y:U.y+g})):F===T?(M.add({x:n.x+z,y:n.y+O}),M.add({x:n.x+z,y:U.y+g}),W===q?M.add({x:U.x-o,y:U.y+g}):M.add({x:U.x+o,y:U.y+g})):F===q?(M.add({x:n.x-d,y:n.y+z}),M.add({x:U.x+g,y:n.y+z}),W===T?M.add({x:U.x+g,y:U.y+G}):M.add({x:U.x+g,y:U.y-G})):F===x&&(M.add({x:n.x+d,y:n.y+z}),M.add({x:U.x+g,y:n.y+z}),W===T?M.add({x:U.x+g,y:U.y+G}):M.add({x:U.x+g,y:U.y-G})),Q&&M.reverse(),y(M,p)};u("ortho2",function(W,E,X){var H,u,K=W.s(D),w=W.s("edge.ortho"),V=W.getSourceAgent(),d=W.getTargetAgent(),m=V.getId()>d.getId(),n=m?d:V,h=m?V:d,r=n.p(),Z=h.p(),i=M(X,W,n),z=M(X,W,h),G=K?0:C(X,n)/2,g=K?0:e(X,n)/2,F=K?0:C(X,h)/2,A=K?0:e(X,h)/2,S=new B,I=i.offset,U=z.offset,b=i.side;return b===x?(H=Z.y>r.y?-I:I,u=r.x+G+(Z.x-F-r.x-G)*w,S.add({x:r.x+G,y:r.y+I}),S.add({x:u+H,y:r.y+I}),S.add({x:u+H,y:Z.y+U}),S.add({x:Z.x-F,y:Z.y+U})):b===q?(H=Z.y>r.y?-I:I,u=r.x-G-(r.x-G-Z.x-F)*w,S.add({x:r.x-G,y:r.y+I}),S.add({x:u-H,y:r.y+I}),S.add({x:u-H,y:Z.y+U}),S.add({x:Z.x+F,y:Z.y+U})):b===T?(H=Z.x>r.x?-I:I,u=r.y+g+(Z.y-A-r.y-g)*w,S.add({x:r.x+I,y:r.y+g}),S.add({x:r.x+I,y:u+H}),S.add({x:Z.x+U,y:u+H}),S.add({x:Z.x+U,y:Z.y-A})):b===l&&(H=Z.x>r.x?-I:I,u=r.y-g-(r.y-g-Z.y-A)*w,S.add({x:r.x+I,y:r.y-g}),S.add({x:r.x+I,y:u-H}),S.add({x:Z.x+U,y:u-H}),S.add({x:Z.x+U,y:Z.y+A})),m&&S.reverse(),y(S,W)},!0),u("flex2",function(I,i,m){var S,Z=I.getSourceAgent(),v=I.getTargetAgent(),P=Z.getId()>v.getId(),G=P?v:Z,o=P?Z:v,V=G.p(),n=o.p(),r=M(m,I,G),A=M(m,I,o),p=I.s(D),a=I.s("edge.flex")+(r.size-1)/2*I.s(N),d=p?0:C(m,G)/2,j=p?0:e(m,G)/2,$=p?0:C(m,o)/2,K=p?0:e(m,o)/2,W=new B,_=r.offset,z=A.offset,c=r.side;return c===x?(S=n.y>V.y?-_:_,W.add({x:V.x+d,y:V.y+_}),W.add({x:V.x+d+a+S,y:V.y+_}),W.add({x:n.x-$-a+S,y:n.y+z}),W.add({x:n.x-$,y:n.y+z})):c===q?(S=n.y>V.y?-_:_,W.add({x:V.x-d,y:V.y+_}),W.add({x:V.x-d-a-S,y:V.y+_}),W.add({x:n.x+$+a-S,y:n.y+z}),W.add({x:n.x+$,y:n.y+z})):c===T?(S=n.x>V.x?-_:_,W.add({x:V.x+_,y:V.y+j}),W.add({x:V.x+_,y:V.y+j+a+S}),W.add({x:n.x+z,y:n.y-K-a+S}),W.add({x:n.x+z,y:n.y-K})):c===l&&(S=n.x>V.x?-_:_,W.add({x:V.x+_,y:V.y-j}),W.add({x:V.x+_,y:V.y-j-a-S}),W.add({x:n.x+z,y:n.y+K+a-S}),W.add({x:n.x+z,y:n.y+K})),P&&W.reverse(),y(W,I)},!0),u("extend.north2",function(j,t,x){var z=j.getSourceAgent(),V=j.getTargetAgent(),m=z.getId()>V.getId(),J=m?V:z,q=m?z:V,a=J.p(),C=q.p(),K=O(x,j,J,l),w=O(x,j,q,l,!0),p=j.s(D),o=p?0:e(x,J)/2,T=p?0:e(x,q)/2,M=K.offset,Q=w.offset,$=j.s(d)+(K.size-1)/2*j.s(N),Y=i(a.y-o,C.y-T)-$+(a.x<C.x?M:-M),E=new B;return E.add({x:a.x+M,y:a.y-o}),E.add({x:a.x+M,y:Y}),E.add({x:C.x+Q,y:Y}),E.add({x:C.x+Q,y:C.y-T}),m&&E.reverse(),y(E,j)},!0),u("extend.south2",function(g,f,w){var G=g.getSourceAgent(),t=g.getTargetAgent(),H=G.getId()>t.getId(),X=H?t:G,q=H?G:t,K=X.p(),I=q.p(),n=O(w,g,X,T),M=O(w,g,q,T,!0),L=g.s(D),i=L?0:e(w,X)/2,s=L?0:e(w,q)/2,E=n.offset,J=M.offset,m=g.s(d)+(n.size-1)/2*g.s(N),j=v(K.y+i,I.y+s)+m+(K.x>I.x?E:-E),o=new B;return o.add({x:K.x+E,y:K.y+i}),o.add({x:K.x+E,y:j}),o.add({x:I.x+J,y:j}),o.add({x:I.x+J,y:I.y+s}),H&&o.reverse(),y(o,g)},!0),u("extend.west2",function(S,p,K){var I=S.getSourceAgent(),f=S.getTargetAgent(),X=I.getId()>f.getId(),h=X?f:I,m=X?I:f,L=h.p(),t=m.p(),s=O(K,S,h,l),F=O(K,S,m,l,!0),Z=S.s(D),n=Z?0:C(K,h)/2,k=Z?0:C(K,m)/2,T=s.offset,z=F.offset,e=S.s(d)+(s.size-1)/2*S.s(N),Q=i(L.x-n,t.x-k)-e+(L.y<t.y?T:-T),x=new B;return x.add({x:L.x-n,y:L.y+T}),x.add({x:Q,y:L.y+T}),x.add({x:Q,y:t.y+z}),x.add({x:t.x-k,y:t.y+z}),X&&x.reverse(),y(x,S)},!0),u("extend.east2",function(p,u,f){var $=p.getSourceAgent(),P=p.getTargetAgent(),m=$.getId()>P.getId(),T=m?P:$,o=m?$:P,Z=T.p(),R=o.p(),c=O(f,p,T,l),j=O(f,p,o,l,!0),z=p.s(D),g=z?0:C(f,T)/2,k=z?0:C(f,o)/2,M=c.offset,K=j.offset,X=p.s(d)+(c.size-1)/2*p.s(N),J=v(Z.x+g,R.x+k)+X+(Z.y>R.y?M:-M),n=new B;return n.add({x:Z.x+g,y:Z.y+M}),n.add({x:J,y:Z.y+M}),n.add({x:J,y:R.y+K}),n.add({x:R.x+k,y:R.y+K}),m&&n.reverse(),y(n,p)},!0),u("v.h2",function(E,Q,k){return U(E,k,V)},!0),u("h.v2",function(D,K,x){return U(D,x,I)},!0)}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);